{"version":3,"sources":["views/sandbox/news-manage/News.module.css","views/login/Login.js","views/news/Detail.js","views/news/News.js","components/sandbox/SideMenu.js","components/sandbox/TopHeader.js","views/sandbox/home/Home.js","views/sandbox/nopermission/Nopermission.js","views/sandbox/right-manage/RightList.js","views/sandbox/right-manage/RoleList.js","components/user-manage/UserForm.js","views/sandbox/user-manage/UserList.js","components/news-manage/NewsEditor.js","views/sandbox/news-manage/NewsAdd.js","views/sandbox/news-manage/NewsDraft.js","views/sandbox/news-manage/NewsCategory.js","components/publish-manage/NewsPublish.js","components/publish-manage/usePublish.js","views/sandbox/news-manage/NewsUpdate.js","components/sandbox/NewsRouter.js","views/sandbox/news-manage/NewsPreview.js","views/sandbox/audit-manage/Audit.js","views/sandbox/audit-manage/AuditList.js","views/sandbox/publish-manage/Unpublished.js","views/sandbox/publish-manage/Published.js","views/sandbox/publish-manage/Sunset.js","views/sandbox/NewsSandBox.js","router/IndexRouter.js","redux/store.js","redux/reducers/CollapsedReducer.js","redux/reducers/LoadingReducer.js","App.js","util/http.js","index.js"],"names":["module","exports","Login","props","style","background","height","overflow","document","documentElement","clientHeight","params","className","name","onFinish","values","axios","get","username","password","then","res","data","length","message","error","localStorage","setItem","JSON","stringify","history","push","Item","rules","required","prefix","UserOutlined","placeholder","LockOutlined","type","htmlType","Detail","useState","newsInfo","setnewsInfo","useEffect","match","id","view","patch","onBack","window","back","title","subTitle","category","HeartTwoTone","twoToneColor","onClick","star","size","column","label","author","publishTime","moment","format","region","dangerouslySetInnerHTML","__html","content","margin","border","News","list","setlist","Object","entries","_","groupBy","item","width","gutter","map","span","bordered","hoverable","dataSource","pagination","pageSize","renderItem","href","Sider","Layout","SubMenu","Menu","iconList","connect","isCollapsed","CollApsedReducer","withRouter","meun","setMeun","rights","parse","getItem","role","checkPagePermission","pagepermisson","includes","key","selectKeys","location","pathname","openKeys","split","trigger","collapsible","collapsed","display","flex","theme","mode","selectedKeys","defaultOpenKeys","renderMenu","menuList","children","icon","Header","changeCollapsed","roleName","menu","danger","removeItem","replace","padding","MenuUnfoldOutlined","MenuFoldOutlined","float","color","overlay","Meta","Card","Nopermission","confirm","Modal","Option","Select","UserForm","forwardRef","ref","isDisabled","setisDisabled","isUpdateDisabled","roleId","roleObj","checkRegionDisabled","isUpdate","value","checkRoleDisabled","layout","disabled","regionList","onChange","current","setFieldsValue","roleList","NewsEditor","html","undefined","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","editorState","EditorState","createWithContent","setEditorState","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange","onBlur","getContent","draftToHtml","convertToRaw","getCurrentContent","Step","Steps","NewsPublish","columns","dataIndex","render","button","rowKey","usePublish","setdataSource","handlePublish","filter","Date","now","notification","info","description","placement","handleSunset","handleDelete","delete","LocalRouterMap","viewList","setviewList","starList","setstarList","allList","setallList","visible","setvisible","pieChart","setpieChart","barRef","useRef","pieRef","renderBarView","onresize","obj","myChart","Echarts","option","text","tooltip","legend","xAxis","keys","axisLabel","rotate","interval","yAxis","minInterval","series","setOption","resize","cover","alt","src","actions","SettingOutlined","setTimeout","currentList","groupObj","i","left","orient","radius","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","renderPieView","EditOutlined","EllipsisOutlined","avatar","paddingLeft","closable","onClose","marginTop","isAddVisible","setisAddVisible","isUpdateVisible","setisUpdateVisible","setroleList","setregionList","setcurrent","setisUpdateDisabled","addForm","updateForm","filters","onFilter","roleState","checked","default","handleChange","shape","DeleteOutlined","confirmMethod","handleUpdate","ExclamationCircleOutlined","onOk","deleteMethod","onCancel","okText","cancelText","validateFields","resetFields","post","console","log","catch","err","rightList","setRightList","currentRights","setcurrentRights","currentId","setcurrentId","isModalVisible","setisModalVisible","checkable","checkedKeys","onCheck","checkKeys","checkStrictly","treeData","forEach","textAlign","switchMethod","grade","rightId","setCurrent","categoryList","setCategoryList","formInfo","setformInfo","setContent","User","NewsForm","handleSave","auditState","active","labelCol","wrapperCol","trim","UploadOutlined","handleCheck","record","onCell","editable","EditableContext","React","createContext","components","body","row","index","Form","useForm","form","component","Provider","cell","restProps","editing","setEditing","inputRef","useContext","focus","toggleEdit","save","a","childNode","onPressEnter","paddingRight","colorList","createTime","publishState","categoryId","goBack","handleAudit","handleRervert","isLoading","LoadingReducer","BackRouteList","setBackRouteList","Promise","all","spinning","routepermisson","checkRoute","checkUserPermission","path","exact","from","to","Content","NewsSandBox","NProgress","start","done","minHeight","IndexRouter","persistConfig","storage","blacklist","reducer","combineReducers","prevState","action","newstate","payload","persistedReducer","persistReducer","store","createStore","persistor","persistStore","App","loading","interceptors","request","use","config","dispatch","reject","response","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.929f25d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"News_active__1lexR\"};","import React from 'react'\r\nimport { Form, Button, Input, message } from 'antd'\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport './Login.css'\r\nimport Particles from 'react-tsparticles';\r\nimport axios from 'axios'\r\nexport default function Login(props) {\r\n\r\n    const onFinish = (values) => {\r\n        // console.log(values)\r\n\r\n        axios.get(`/users?username=${values.username}&password=${values.password}&roleState=true&_expand=role`).then(res=>{\r\n            // console.log(res.data)\r\n            if(res.data.length===0){\r\n                message.error(\"用户名或密码不匹配\")\r\n            }else{\r\n                localStorage.setItem(\"token\",JSON.stringify(res.data[0]))\r\n                props.history.push(\"/\")\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div style={{ background: 'rgb(35, 39, 65)', height: \"100%\",overflow:'hidden' }}>\r\n            <Particles height={document.documentElement.clientHeight}params={\r\n                {\r\n                    \"background\": {\r\n                      \"color\": {\r\n                        \"value\": \"rgb(35, 39, 65)\"\r\n                      },\r\n                      \"position\": \"50% 50%\",\r\n                      \"repeat\": \"no-repeat\",\r\n                      \"size\": \"cover\"\r\n                    },\r\n                    \"fullScreen\": {\r\n                      \"enable\": true,\r\n                      \"zIndex\": 1\r\n                    },\r\n                    \"interactivity\": {\r\n                      \"events\": {\r\n                        \"onClick\": {\r\n                          \"enable\": true,\r\n                          \"mode\": \"push\"\r\n                        },\r\n                        \"onHover\": {\r\n                          \"enable\": true,\r\n                          \"mode\": \"bubble\",\r\n                          \"parallax\": {\r\n                            \"force\": 60\r\n                          }\r\n                        }\r\n                      },\r\n                      \"modes\": {\r\n                        \"bubble\": {\r\n                          \"distance\": 400,\r\n                          \"duration\": 2,\r\n                          \"opacity\": 1,\r\n                          \"size\": 40\r\n                        },\r\n                        \"grab\": {\r\n                          \"distance\": 400\r\n                        }\r\n                      }\r\n                    },\r\n                    \"particles\": {\r\n                      \"color\": {\r\n                        \"value\": \"#ffffff\"\r\n                      },\r\n                      \"links\": {\r\n                        \"color\": {\r\n                          \"value\": \"#fff\"\r\n                        },\r\n                        \"distance\": 150,\r\n                        \"opacity\": 0.4\r\n                      },\r\n                      \"move\": {\r\n                        \"attract\": {\r\n                          \"rotate\": {\r\n                            \"x\": 600,\r\n                            \"y\": 1200\r\n                          }\r\n                        },\r\n                        \"enable\": true,\r\n                        \"outModes\": {\r\n                          \"default\": \"bounce\",\r\n                          \"bottom\": \"bounce\",\r\n                          \"left\": \"bounce\",\r\n                          \"right\": \"bounce\",\r\n                          \"top\": \"bounce\"\r\n                        },\r\n                        \"speed\": 6\r\n                      },\r\n                      \"number\": {\r\n                        \"density\": {\r\n                          \"enable\": true\r\n                        },\r\n                        \"value\": 170\r\n                      },\r\n                      \"opacity\": {\r\n                        \"animation\": {\r\n                          \"speed\": 1,\r\n                          \"minimumValue\": 0.1\r\n                        }\r\n                      },\r\n                      \"shape\": {\r\n                        \"options\": {\r\n                          \"character\": {\r\n                            \"fill\": false,\r\n                            \"font\": \"Verdana\",\r\n                            \"style\": \"\",\r\n                            \"value\": \"*\",\r\n                            \"weight\": \"400\"\r\n                          },\r\n                          \"char\": {\r\n                            \"fill\": false,\r\n                            \"font\": \"Verdana\",\r\n                            \"style\": \"\",\r\n                            \"value\": \"*\",\r\n                            \"weight\": \"400\"\r\n                          },\r\n                          \"polygon\": {\r\n                            \"nb_sides\": 5\r\n                          },\r\n                          \"star\": {\r\n                            \"nb_sides\": 5\r\n                          },\r\n                          \"image\": {\r\n                            \"height\": 32,\r\n                            \"replace_color\": true,\r\n                            \"src\": \"/logo192.png\",\r\n                            \"width\": 32\r\n                          },\r\n                          \"images\": {\r\n                            \"height\": 32,\r\n                            \"replace_color\": true,\r\n                            \"src\": \"/logo192.png\",\r\n                            \"width\": 32\r\n                          }\r\n                        },\r\n                        \"type\": \"image\"\r\n                      },\r\n                      \"size\": {\r\n                        \"value\": 16,\r\n                        \"animation\": {\r\n                          \"speed\": 40,\r\n                          \"minimumValue\": 0.1\r\n                        }\r\n                      },\r\n                      \"stroke\": {\r\n                        \"color\": {\r\n                          \"value\": \"#000000\",\r\n                          \"animation\": {\r\n                            \"h\": {\r\n                              \"count\": 0,\r\n                              \"enable\": false,\r\n                              \"offset\": 0,\r\n                              \"speed\": 1,\r\n                              \"sync\": true\r\n                            },\r\n                            \"s\": {\r\n                              \"count\": 0,\r\n                              \"enable\": false,\r\n                              \"offset\": 0,\r\n                              \"speed\": 1,\r\n                              \"sync\": true\r\n                            },\r\n                            \"l\": {\r\n                              \"count\": 0,\r\n                              \"enable\": false,\r\n                              \"offset\": 0,\r\n                              \"speed\": 1,\r\n                              \"sync\": true\r\n                            }\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n            }/>\r\n            <div className=\"formContainer\">\r\n                <div className=\"logintitle\">News Hub</div>\r\n                <Form\r\n                    name=\"normal_login\"\r\n                    className=\"login-form\"\r\n                    onFinish={onFinish}\r\n                >\r\n                    <Form.Item\r\n                        name=\"username\"\r\n                        rules={[{ required: true, message: 'Please input your Username!' }]}\r\n                    >\r\n                        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"password\"\r\n                        rules={[{ required: true, message: 'Please input your Password!' }]}\r\n                    >\r\n                        <Input\r\n                            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                            登录\r\n                     </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { PageHeader, Descriptions } from 'antd';\r\nimport moment from 'moment'\r\nimport axios from 'axios';\r\nimport {HeartTwoTone} from '@ant-design/icons'\r\nexport default function Detail(props) {\r\n    const [newsInfo, setnewsInfo] = useState(null)\r\n    useEffect(() => {\r\n        // console.log()\r\n        axios.get(`/news/${props.match.params.id}?_expand=category&_expand=role`).then(res => {\r\n            setnewsInfo({\r\n                ...res.data,\r\n                view:res.data.view+1\r\n            })\r\n\r\n            //同步后端\r\n            return res.data\r\n        }).then(res=>{\r\n            axios.patch(`/news/${props.match.params.id}`,{\r\n                view:res.view+1\r\n            })\r\n        })\r\n    }, [props.match.params.id])\r\n    const handleStar = ()=>{\r\n        setnewsInfo({\r\n            ...newsInfo,\r\n            star:newsInfo.star+1\r\n        })\r\n\r\n        axios.patch(`/news/${props.match.params.id}`,{\r\n            star:newsInfo.star+1\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n            {\r\n                newsInfo && <div>\r\n\r\n                    <PageHeader\r\n                        onBack={() => window.history.back()}\r\n                        title={newsInfo.title}\r\n                        subTitle={<div>\r\n                            {newsInfo.category.title}\r\n                            <HeartTwoTone twoToneColor=\"#eb2f96\" onClick={()=>handleStar()}/>\r\n\r\n                        </div>}\r\n                    >\r\n                        <Descriptions size=\"small\" column={3}>\r\n                            <Descriptions.Item label=\"创建者\">{newsInfo.author}</Descriptions.Item>\r\n                           \r\n                            <Descriptions.Item label=\"发布时间\">{\r\n                                newsInfo.publishTime ? moment(newsInfo.publishTime).format(\"YYYY/MM/DD HH:mm:ss\") : \"-\"\r\n                            }</Descriptions.Item>\r\n                            <Descriptions.Item label=\"区域\">{newsInfo.region}</Descriptions.Item>\r\n                           \r\n                            <Descriptions.Item label=\"访问数量\">{newsInfo.view}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"点赞数量\">{newsInfo.star}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"评论数量\">0</Descriptions.Item>\r\n\r\n                        </Descriptions>\r\n                    </PageHeader>\r\n\r\n                    <div dangerouslySetInnerHTML={{\r\n                        __html:newsInfo.content\r\n                    }} style={{\r\n                        margin:\"0 24px\",\r\n                        border:\"1px solid gray\"\r\n                    }}>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport _ from 'lodash'\r\nimport { PageHeader, Card, Col, Row, List } from 'antd'\r\nexport default function News() {\r\n    const [list, setlist] = useState([])\r\n    useEffect(() => {\r\n        axios.get(\"/news?publishState=2&_expand=category\").then(res => {\r\n            // console.log()\r\n            setlist(Object.entries(_.groupBy(res.data, item => item.category.title)))\r\n        })\r\n    }, [])\r\n    return (\r\n        <div style={{\r\n            width: \"95%\",\r\n            margin: '0 auto'\r\n        }}>\r\n            <PageHeader\r\n                className=\"site-page-header\"\r\n                title=\"全球大新闻\"\r\n                subTitle=\"查看新闻\"\r\n            />,\r\n            <div className=\"site-card-wrapper\">\r\n                <Row gutter={[16, 16]}>\r\n                    {\r\n                        list.map(item =>\r\n                            <Col span={8} key={item[0]}>\r\n                                <Card title={item[0]} bordered={true} hoverable={true}>\r\n                                    <List\r\n                                        size=\"small\"\r\n                                        dataSource={item[1]}\r\n                                        pagination={{\r\n                                            pageSize: 3\r\n                                        }}\r\n                                        renderItem={data => <List.Item><a href={`#/detail/${data.id}`}>{data.title}</a></List.Item>}\r\n                                    />\r\n                                </Card>\r\n                            </Col>\r\n                        )\r\n                    }\r\n                </Row>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React,{useEffect,useState} from 'react'\r\nimport { Layout, Menu } from 'antd';\r\nimport './index.css'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {\r\n  UserOutlined\r\n} from '@ant-design/icons';\r\nimport axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nconst { Sider } = Layout;\r\nconst { SubMenu } = Menu\r\n\r\n//模拟数组结构\r\n// const  menuList = [\r\n//   {\r\n//     key:\"/home\",\r\n//     title:\"首页\",\r\n//     icon:<UserOutlined />\r\n//   },\r\n//   {\r\n//     key:\"/user-manage\",\r\n//     title:\"用户管理\",\r\n//     icon:<UserOutlined />,\r\n//     children:[\r\n//       {\r\n//         key:\"/user-manage/list\",\r\n//         title:\"用户列表\",\r\n//         icon:<UserOutlined />\r\n//       }\r\n//     ]\r\n//   },\r\n//   {\r\n//     key:\"/right-manage\",\r\n//     title:\"权限管理\",\r\n//     icon:<UserOutlined />,\r\n//     children:[\r\n//       {\r\n//         key:\"/right-manage/role/list\",\r\n//         title:\"角色列表\",\r\n//         icon:<UserOutlined />\r\n//       },\r\n//       {\r\n//         key:\"/right-manage/right/list\",\r\n//         title:\"权限列表\",\r\n//         icon:<UserOutlined />\r\n//       }\r\n//     ]\r\n//   }\r\n// ]\r\nconst iconList = {\r\n  \"/home\":<UserOutlined />,\r\n  \"/user-manage\":<UserOutlined />,\r\n  \"/user-manage/list\":<UserOutlined />,\r\n  \"/right-manage\":<UserOutlined />,\r\n  \"/right-manage/role/list\":<UserOutlined />,\r\n  \"/right-manage/right/list\":<UserOutlined />\r\n  //.......\r\n}\r\n\r\n\r\nfunction SideMenu(props) {\r\n  const [meun, setMeun] = useState([])\r\n  useEffect(()=>{\r\n    axios.get(\"/rights?_embed=children\").then(res=>{\r\n      // console.log(res.data)\r\n      setMeun(res.data)\r\n    })\r\n  },[])\r\n\r\n  const {role:{rights}} = JSON.parse(localStorage.getItem(\"token\"))\r\n\r\n  const checkPagePermission = (item)=>{\r\n    return item.pagepermisson && rights.includes(item.key)\r\n  }\r\n  const renderMenu = (menuList)=>{\r\n    return menuList.map(item=>{\r\n      if(item.children?.length>0 && checkPagePermission(item)){\r\n        return <SubMenu key={item.key} icon={iconList[item.key]} title={item.title}>\r\n           { renderMenu(item.children) }\r\n        </SubMenu>\r\n      }\r\n\r\n      if (checkPagePermission(item)) {\r\n        return (\r\n          <Menu.Item key={item.key} icon={iconList[item.key]}  onClick={()=>{\r\n            //  console.log(props)\r\n            props.history.push(item.key)\r\n          }}>{item.title}</Menu.Item>\r\n        )\r\n      } else return undefined;\r\n    })\r\n  }\r\n\r\n  // console.log(props.location.pathname)\r\n  const selectKeys = [props.location.pathname]\r\n  const openKeys = [\"/\"+props.location.pathname.split(\"/\")[1]]\r\n  return (\r\n    <Sider trigger={null} collapsible collapsed={props.isCollapsed} >\r\n      <div style={{display:\"flex\",height:\"100%\",\"flexDirection\":\"column\"}}>\r\n        <div className=\"logo\" >News Hub</div>\r\n        <div style={{flex:1,\"overflow\":\"auto\"}}>\r\n          <Menu theme=\"dark\" mode=\"inline\" selectedKeys={selectKeys} className=\"aaaaaaa\" defaultOpenKeys={openKeys}>\r\n              {renderMenu(meun)}\r\n          </Menu>\r\n        </div>\r\n      </div>\r\n    </Sider>\r\n  )\r\n}\r\nconst mapStateToProps = ({CollApsedReducer:{isCollapsed}})=>({\r\n  isCollapsed\r\n})\r\nexport default connect(mapStateToProps)(withRouter(SideMenu))","import React from 'react'\r\nimport { Layout, Dropdown,Menu ,Avatar} from 'antd';\r\nimport {\r\n    MenuUnfoldOutlined,\r\n    MenuFoldOutlined,\r\n    UserOutlined\r\n} from '@ant-design/icons';\r\nimport {withRouter} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\n\r\nconst { Header } = Layout;\r\n\r\nfunction TopHeader(props) {\r\n\r\n    // console.log(props)\r\n    // const [collapsed, setCollapsed] = useState(false)\r\n    const changeCollapsed = () => {\r\n        //改变state的isCollapsed\r\n        // console.log(props)\r\n        props.changeCollapsed()\r\n    }\r\n\r\n    const {role:{roleName},username} = JSON.parse(localStorage.getItem(\"token\"))\r\n\r\n    const menu = (\r\n        <Menu>\r\n            <Menu.Item>\r\n                {roleName}\r\n            </Menu.Item>\r\n            <Menu.Item danger onClick={()=>{\r\n                localStorage.removeItem(\"token\")\r\n                // console.log(props.history)\r\n                props.history.replace(\"/login\")\r\n            }}>退出</Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    return (\r\n        <Header className=\"site-layout-background\" style={{ padding: '0 16px' }}>\r\n            {\r\n                props.isCollapsed ? <MenuUnfoldOutlined onClick={changeCollapsed} /> : <MenuFoldOutlined onClick={changeCollapsed} />\r\n            }\r\n\r\n            <div style={{ float: \"right\" }}>\r\n                <span>欢迎<span style={{color:\"#1890ff\"}}>{username}</span>回来</span>\r\n                <Dropdown overlay={menu}>\r\n                    <Avatar size=\"large\" icon={<UserOutlined />} />\r\n                </Dropdown>\r\n            </div>\r\n        </Header>\r\n\r\n    )\r\n}\r\n/*\r\n connect(\r\n  // mapStateToProps  \r\n  // mapDispatchToProps\r\n )(被包装的组件)\r\n*/\r\n\r\nconst mapStateToProps = ({CollApsedReducer:{isCollapsed}})=>{\r\n    // console.log(state)\r\n    return {\r\n        isCollapsed\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    changeCollapsed(){\r\n        return {\r\n            type: \"change_collapsed\"\r\n            // payload:\r\n        }//action \r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(TopHeader))","import React, { useEffect, useState, useRef } from 'react'\r\nimport { Card, Col, Row, List, Avatar, Drawer } from 'antd';\r\nimport { EditOutlined, EllipsisOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport axios from 'axios'\r\nimport * as Echarts from 'echarts'\r\nimport _ from 'lodash'\r\n\r\nconst { Meta } = Card;\r\n\r\n// import axios from 'axios'\r\nexport default function Home() {\r\n    const [viewList, setviewList] = useState([])\r\n    const [starList, setstarList] = useState([])\r\n    const [allList, setallList] = useState([])\r\n    const [visible, setvisible] = useState(false)\r\n    const [pieChart, setpieChart] = useState(null)\r\n    const barRef = useRef()\r\n    const pieRef = useRef()\r\n    useEffect(() => {\r\n        axios.get(\"/news?publishState=2&_expand=category&_sort=view&_order=desc&_limit=6\").then(res => {\r\n            // console.log(res.data)\r\n            setviewList(res.data)\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/news?publishState=2&_expand=category&_sort=star&_order=desc&_limit=6\").then(res => {\r\n            // console.log(res.data)\r\n            setstarList(res.data)\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        axios.get(\"/news?publishState=2&_expand=category\").then(res => {\r\n            // console.log(res.data)\r\n            // console.log()\r\n            renderBarView(_.groupBy(res.data, item => item.category.title))\r\n\r\n            setallList(res.data)\r\n        })\r\n\r\n        return () => {\r\n            window.onresize = null\r\n        }\r\n    }, [])\r\n\r\n    const renderBarView = (obj) => {\r\n        var myChart = Echarts.init(barRef.current);\r\n\r\n        // 指定图表的配置项和数据\r\n        var option = {\r\n            title: {\r\n                text: '新闻分类图示'\r\n            },\r\n            tooltip: {},\r\n            legend: {\r\n                data: ['数量']\r\n            },\r\n            xAxis: {\r\n                data: Object.keys(obj),\r\n                axisLabel: {\r\n                    rotate: \"45\",\r\n                    interval: 0\r\n                }\r\n            },\r\n            yAxis: {\r\n                minInterval: 1\r\n            },\r\n            series: [{\r\n                name: '数量',\r\n                type: 'bar',\r\n                data: Object.values(obj).map(item => item.length)\r\n            }]\r\n        };\r\n\r\n        // 使用刚指定的配置项和数据显示图表。\r\n        myChart.setOption(option);\r\n\r\n\r\n        window.onresize = () => {\r\n            // console.log(\"resize\")\r\n            myChart.resize()\r\n        }\r\n    }\r\n\r\n    const renderPieView = (obj) => {\r\n        //数据处理工作\r\n\r\n        var currentList =allList.filter(item=>item.author===username)\r\n        var groupObj = _.groupBy(currentList,item=>item.category.title)\r\n        var list = []\r\n        for(var i in groupObj){\r\n            list.push({\r\n                name:i,\r\n                value:groupObj[i].length\r\n            })\r\n        }\r\n        var myChart;\r\n        if(!pieChart){\r\n            myChart = Echarts.init(pieRef.current);\r\n            setpieChart(myChart)\r\n        }else{\r\n            myChart = pieChart\r\n        }\r\n        var option;\r\n\r\n        option = {\r\n            title: {\r\n                text: '当前用户新闻分类图示',\r\n                // subtext: '纯属虚构',\r\n                left: 'center'\r\n            },\r\n            tooltip: {\r\n                trigger: 'item'\r\n            },\r\n            legend: {\r\n                orient: 'vertical',\r\n                left: 'left',\r\n            },\r\n            series: [\r\n                {\r\n                    name: '发布数量',\r\n                    type: 'pie',\r\n                    radius: '50%',\r\n                    data: list,\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            shadowBlur: 10,\r\n                            shadowOffsetX: 0,\r\n                            shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        };\r\n\r\n        option && myChart.setOption(option);\r\n\r\n    }\r\n\r\n    const { username, region, role: { roleName } } = JSON.parse(localStorage.getItem(\"token\"))\r\n    return (\r\n        <div className=\"site-card-wrapper\">\r\n            <Row gutter={16}>\r\n                <Col span={8}>\r\n                    <Card title=\"用户最常浏览\" bordered={true}>\r\n                        <List\r\n                            size=\"small\"\r\n                            // bordered\r\n                            dataSource={viewList}\r\n                            renderItem={item => <List.Item>\r\n                                <a href={`#/news-manage/preview/${item.id}`}>{item.title}</a>\r\n                            </List.Item>}\r\n                        />\r\n                    </Card>\r\n                </Col>\r\n                <Col span={8}>\r\n                    <Card title=\"用户点赞最多\" bordered={true}>\r\n                        <List\r\n                            size=\"small\"\r\n                            // bordered\r\n                            dataSource={starList}\r\n                            renderItem={item => <List.Item>\r\n                                <a href={`#/news-manage/preview/${item.id}`}>{item.title}</a>\r\n                            </List.Item>}\r\n                        />\r\n                    </Card>\r\n                </Col>\r\n                <Col span={8}>\r\n                    <Card\r\n                        cover={\r\n                            <img\r\n                                alt=\"example\"\r\n                                src=\"https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png\"\r\n                            />\r\n                        }\r\n                        actions={[\r\n                            <SettingOutlined key=\"setting\" onClick={() => {\r\n                                setTimeout(() => {\r\n                                    setvisible(true)\r\n\r\n                                    // init初始化\r\n                                    renderPieView()\r\n                                }, 0)\r\n                            }} />,\r\n                            <EditOutlined key=\"edit\" />,\r\n                            <EllipsisOutlined key=\"ellipsis\" />,\r\n                        ]}\r\n                    >\r\n                        <Meta\r\n                            avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                            title={username}\r\n                            description={\r\n                                <div>\r\n                                    <b>{region ? region : \"全球\"}</b>\r\n                                    <span style={{\r\n                                        paddingLeft: \"30px\"\r\n                                    }}>{roleName}</span>\r\n                                </div>\r\n                            }\r\n                        />\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n            <Drawer\r\n                width=\"500px\"\r\n                title=\"个人新闻分类\"\r\n                placement=\"right\"\r\n                closable={true}\r\n                onClose={() => {\r\n                    setvisible(false)\r\n                }}\r\n                visible={visible}\r\n            >\r\n                <div ref={pieRef} style={{\r\n                    width: '100%',\r\n                    height: \"400px\",\r\n                    marginTop: \"30px\"\r\n                }}></div>\r\n            </Drawer>\r\n\r\n\r\n            <div ref={barRef} style={{\r\n                width: '100%',\r\n                height: \"400px\",\r\n                marginTop: \"30px\"\r\n            }}></div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Nopermission() {\r\n    return (\r\n        <div>\r\n           403  Nopermission\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Table, Tag, Modal,Popover, Switch} from 'antd'\r\nimport axios from 'axios'\r\nimport { DeleteOutlined, EditOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nconst { confirm } = Modal\r\nexport default function RightList() {\r\n    const [dataSource, setdataSource] = useState([])\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/rights?_embed=children\").then(res => {\r\n            const list = res.data\r\n\r\n            list.forEach(item => {\r\n                if (item.children.length === 0) {\r\n                    item.children = \"\"\r\n                }\r\n            })\r\n            setdataSource(list)\r\n        })\r\n    }, [])\r\n\r\n    const columns = [\r\n        {\r\n            title: 'ID',\r\n            dataIndex: 'id',\r\n            render: (id) => {\r\n                return <b>{id}</b>\r\n            }\r\n        },\r\n        {\r\n            title: '权限名称',\r\n            dataIndex: 'title'\r\n        },\r\n        {\r\n            title: \"权限路径\",\r\n            dataIndex: 'key',\r\n            render: (key) => {\r\n                return <Tag color=\"orange\">{key}</Tag>\r\n            }\r\n        },\r\n        {\r\n            title: \"操作\",\r\n            render: (item) => {\r\n                return <div>\r\n                    <Button danger shape=\"circle\" icon={<DeleteOutlined />} onClick={() => confirmMethod(item)} />\r\n                    \r\n                    <Popover content={<div style={{textAlign:\"center\"}}>\r\n                        <Switch checked={item.pagepermisson} onChange={()=>switchMethod(item)}></Switch>\r\n                    </div>} title=\"页面配置项\" trigger={item.pagepermisson===undefined?'':'click'}>\r\n                        <Button type=\"primary\" shape=\"circle\" icon={<EditOutlined />} disabled={item.pagepermisson===undefined}/>\r\n                    </Popover>\r\n                </div>\r\n            }\r\n        }\r\n    ];\r\n\r\n    const  switchMethod = (item)=>{\r\n        item.pagepermisson = item.pagepermisson===1?0:1\r\n        // console.log(item)\r\n        setdataSource([...dataSource])\r\n\r\n        if(item.grade===1){\r\n            axios.patch(`/rights/${item.id}`,{\r\n                pagepermisson:item.pagepermisson\r\n            })\r\n        }else{\r\n            axios.patch(`/children/${item.id}`,{\r\n                pagepermisson:item.pagepermisson\r\n            })\r\n        }\r\n    }\r\n\r\n    const confirmMethod = (item) => {\r\n        confirm({\r\n            title: '你确定要删除?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            // content: 'Some descriptions',\r\n            onOk() {\r\n                //   console.log('OK');\r\n                deleteMethod(item)\r\n            },\r\n            onCancel() {\r\n                //   console.log('Cancel');\r\n            },\r\n        });\r\n\r\n    }\r\n    //删除\r\n    const deleteMethod = (item) => {\r\n        // console.log(item)\r\n        // 当前页面同步状态 + 后端同步\r\n        if (item.grade === 1) {\r\n            setdataSource(dataSource.filter(data => data.id !== item.id))\r\n            axios.delete(`/rights/${item.id}`)\r\n        }else{\r\n            let list = dataSource.filter(data=>data.id===item.rightId)\r\n            list[0].children = list[0].children.filter(data=>data.id!==item.id)\r\n            setdataSource([...dataSource])\r\n            axios.delete(`/children/${item.id}`)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Table dataSource={dataSource} columns={columns}\r\n                pagination={{\r\n                    pageSize: 5\r\n                }} />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Table, Button, Modal,Tree } from 'antd'\r\nimport axios from 'axios'\r\nimport { DeleteOutlined, EditOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nconst { confirm } = Modal\r\nexport default function RoleList() {\r\n    const [dataSource, setdataSource] = useState([])\r\n    const [rightList, setRightList] = useState([])\r\n    const [currentRights, setcurrentRights] = useState([])\r\n    const [currentId, setcurrentId] = useState(0)\r\n    const [isModalVisible, setisModalVisible] = useState(false)\r\n    const columns = [\r\n        {\r\n            title: 'ID',\r\n            dataIndex: 'id',\r\n            render: (id) => {\r\n                return <b>{id}</b>\r\n            }\r\n        },\r\n        {\r\n            title: '角色名称',\r\n            dataIndex: 'roleName'\r\n        },\r\n        {\r\n            title: \"操作\",\r\n            render: (item) => {\r\n                return <div>\r\n                    <Button danger shape=\"circle\" icon={<DeleteOutlined />} onClick={() => confirmMethod(item)} />\r\n                    <Button type=\"primary\" shape=\"circle\" icon={<EditOutlined />} onClick={()=>{\r\n                        setisModalVisible(true)\r\n                        setcurrentRights(item.rights)\r\n                        setcurrentId(item.id)\r\n                    }}/>\r\n                </div>\r\n            }\r\n        }\r\n    ]\r\n\r\n    const confirmMethod = (item) => {\r\n        confirm({\r\n            title: '你确定要删除?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            // content: 'Some descriptions',\r\n            onOk() {\r\n                //   console.log('OK');\r\n                deleteMethod(item)\r\n            },\r\n            onCancel() {\r\n                //   console.log('Cancel');\r\n            },\r\n        });\r\n\r\n    }\r\n    //删除\r\n    const deleteMethod = (item) => {\r\n        // console.log(item)\r\n        setdataSource(dataSource.filter(data => data.id !== item.id))\r\n        axios.delete(`/roles/${item.id}`)\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/roles\").then(res => {\r\n            // console.log(res.data)\r\n            setdataSource(res.data)\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/rights?_embed=children\").then(res => {\r\n            // console.log(res.data)\r\n            setRightList(res.data)\r\n        })\r\n    }, [])\r\n\r\n\r\n\r\n    const handleOk = ()=>{\r\n        console.log(currentRights,currentId)\r\n        setisModalVisible(false)\r\n        //同步datasource\r\n        setdataSource(dataSource.map(item=>{\r\n            if(item.id===currentId){\r\n                return {\r\n                    ...item,\r\n                    rights:currentRights\r\n                }\r\n            }\r\n            return item\r\n        }))\r\n        //patch\r\n\r\n        axios.patch(`/roles/${currentId}`,{\r\n            rights:currentRights\r\n        })\r\n    }\r\n\r\n    const handleCancel  =()=>{\r\n        setisModalVisible(false)\r\n    }\r\n\r\n    const onCheck = (checkKeys)=>{\r\n        // console.log(checkKeys)\r\n        setcurrentRights(checkKeys.checked)\r\n    }\r\n    return (\r\n        <div>\r\n            <Table dataSource={dataSource} columns={columns}\r\n                rowKey={(item) => item.id}></Table>\r\n\r\n            <Modal title=\"权限分配\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n            <Tree\r\n                checkable\r\n                checkedKeys = {currentRights}\r\n                onCheck={onCheck}\r\n                checkStrictly = {true}\r\n                treeData={rightList}\r\n            />\r\n\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n","import React, { forwardRef,useEffect,useState } from 'react'\r\nimport {Form,Input,Select} from 'antd'\r\nconst {Option}  = Select\r\nconst UserForm = forwardRef((props,ref) => {\r\n    const [isDisabled, setisDisabled] = useState(false)\r\n    \r\n    useEffect(()=>{\r\n        setisDisabled(props.isUpdateDisabled)\r\n    },[props.isUpdateDisabled])\r\n\r\n    const {roleId,region}  = JSON.parse(localStorage.getItem(\"token\"))\r\n    const roleObj = {\r\n        \"6204b0c10dcb9809bcdb3e91\":\"superadmin\",\r\n        \"6204b0c10dcb9809bcdb3e92\":\"admin\",\r\n        \"6204b0c10dcb9809bcdb3e93\":\"editor\"\r\n    }\r\n    const checkRegionDisabled = (item)=>{\r\n        if(props.isUpdate){\r\n            if(roleObj[roleId]===\"superadmin\"){\r\n                return false\r\n            }else{\r\n                return true\r\n            }\r\n        }else{\r\n            if(roleObj[roleId]===\"superadmin\"){\r\n                return false\r\n            }else{\r\n                return item.value!==region\r\n            }\r\n        }\r\n    }\r\n\r\n    const checkRoleDisabled = (item)=>{\r\n        if(props.isUpdate){\r\n            if(roleObj[roleId]===\"superadmin\"){\r\n                return false\r\n            }else{\r\n                return true\r\n            }\r\n        }else{\r\n            if(roleObj[roleId]===\"superadmin\"){\r\n                return false\r\n            }else{\r\n                return roleObj[item.id]!==\"editor\"\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Form\r\n            ref={ref}\r\n            layout=\"vertical\"\r\n        >\r\n            <Form.Item\r\n                name=\"username\"\r\n                label=\"用户名\"\r\n                rules={[{ required: true, message: 'Please input the title of collection!' }]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"password\"\r\n                label=\"密码\"\r\n                rules={[{ required: true, message: 'Please input the title of collection!' }]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"region\"\r\n                label=\"区域\"\r\n                rules={isDisabled?[]:[{ required: true, message: 'Please input the title of collection!' }]}\r\n            >\r\n                <Select disabled={isDisabled}>\r\n                    {\r\n                        props.regionList.map(item =>\r\n                            <Option value={item.value} key={item.id} disabled={checkRegionDisabled(item)}>{item.title}</Option>\r\n                        )\r\n                    }\r\n                </Select>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"roleId\"\r\n                label=\"角色\"\r\n                rules={[{ required: true, message: 'Please input the title of collection!' }]}\r\n            >\r\n                <Select onChange={(value)=>{\r\n                    // console.log(value)\r\n                    if(value === '6204b0c10dcb9809bcdb3e91'){\r\n                        setisDisabled(true)\r\n                        ref.current.setFieldsValue({\r\n                            region:\"\"\r\n                        })\r\n                    }else{\r\n                        setisDisabled(false)\r\n                    }\r\n                }}>\r\n                    {\r\n                        props.roleList.map(item =>\r\n                            <Option value={item.id} key={item.id} disabled={checkRoleDisabled(item)}>{item.roleName}</Option>\r\n                        )\r\n                    }\r\n                </Select>\r\n            </Form.Item>\r\n        </Form>\r\n    )\r\n})\r\nexport default UserForm","import React, { useState, useEffect, useRef } from 'react'\r\nimport { Button, Table, Modal, Switch } from 'antd'\r\nimport axios from 'axios'\r\nimport { DeleteOutlined, EditOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nimport UserForm from '../../../components/user-manage/UserForm'\r\nconst { confirm } = Modal\r\n\r\nexport default function UserList() {\r\n    const [dataSource, setdataSource] = useState([])\r\n    const [isAddVisible, setisAddVisible] = useState(false)\r\n    const [isUpdateVisible, setisUpdateVisible] = useState(false)\r\n    const [roleList, setroleList] = useState([])\r\n    const [regionList, setregionList] = useState([])\r\n    const [current, setcurrent] = useState(null)\r\n\r\n    const [isUpdateDisabled, setisUpdateDisabled] = useState(false)\r\n    const addForm = useRef(null)\r\n    const updateForm = useRef(null)\r\n    \r\n    const {roleId,region,username}  = JSON.parse(localStorage.getItem(\"token\"))\r\n\r\n    useEffect(() => {\r\n        const roleObj = {\r\n            \"6204b0c10dcb9809bcdb3e91\":\"superadmin\",\r\n            \"6204b0c10dcb9809bcdb3e92\":\"admin\",\r\n            \"6204b0c10dcb9809bcdb3e93\":\"editor\"\r\n        }\r\n        axios.get(\"/users?_expand=role\").then(res => {\r\n            const list = res.data\r\n            setdataSource(roleObj[roleId]===\"superadmin\"?list:[\r\n                ...list.filter(item=>item.username===username),\r\n                ...list.filter(item=>item.region===region&& roleObj[item.roleId]===\"editor\")\r\n            ])\r\n        })\r\n    }, [roleId,region,username])\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/regions\").then(res => {\r\n            const list = res.data\r\n            setregionList(list)\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/roles\").then(res => {\r\n            const list = res.data\r\n            setroleList(list)\r\n        })\r\n    }, [])\r\n\r\n    const columns = [\r\n        {\r\n            title: '区域',\r\n            dataIndex: 'region',\r\n            filters: [\r\n                ...regionList.map(item=>({\r\n                    text:item.title,\r\n                    value:item.value\r\n                })),\r\n                {\r\n                    text:\"全球\",\r\n                    value:\"全球\"\r\n                }    \r\n\r\n            ],\r\n\r\n            onFilter:(value,item)=>{\r\n                if(value===\"全球\"){\r\n                    return item.region===\"\"\r\n                }\r\n                return item.region===value\r\n            },\r\n          \r\n            render: (region) => {\r\n                return <b>{region === \"\" ? '全球' : region}</b>\r\n            }\r\n        },\r\n        {\r\n            title: '角色名称',\r\n            dataIndex: 'role',\r\n            render: (role) => {\r\n                return role?.roleName\r\n            }\r\n        },\r\n        {\r\n            title: \"用户名\",\r\n            dataIndex: 'username'\r\n        },\r\n        {\r\n            title: \"用户状态\",\r\n            dataIndex: 'roleState',\r\n            render: (roleState, item) => {\r\n                return <Switch checked={roleState} disabled={item.default} onChange={()=>handleChange(item)}></Switch>\r\n            }\r\n        },\r\n        {\r\n            title: \"操作\",\r\n            render: (item) => {\r\n                return <div>\r\n                    <Button danger shape=\"circle\" icon={<DeleteOutlined />} onClick={() => confirmMethod(item)} disabled={item.default} />\r\n\r\n                    <Button type=\"primary\" shape=\"circle\" icon={<EditOutlined />} disabled={item.default} onClick={()=>handleUpdate(item)}/>\r\n                </div>\r\n            }\r\n        }\r\n    ];\r\n\r\n    const handleUpdate = (item)=>{\r\n        setTimeout(()=>{\r\n            setisUpdateVisible(true)\r\n            if(item.roleId==='6204b0c10dcb9809bcdb3e91'){\r\n                //禁用\r\n                setisUpdateDisabled(true)\r\n            }else{\r\n                //取消禁用\r\n                setisUpdateDisabled(false)\r\n            }\r\n            updateForm.current.setFieldsValue(item)\r\n        },0)\r\n\r\n        setcurrent(item)\r\n    }\r\n\r\n    const handleChange = (item)=>{\r\n        // console.log(item)\r\n        item.roleState = !item.roleState\r\n        setdataSource([...dataSource])\r\n\r\n        axios.patch(`/users/${item.id}`,{\r\n            roleState:item.roleState\r\n        })\r\n    }\r\n\r\n    const confirmMethod = (item) => {\r\n        confirm({\r\n            title: '你确定要删除?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            // content: 'Some descriptions',\r\n            onOk() {\r\n                //   console.log('OK');\r\n                deleteMethod(item)\r\n            },\r\n            onCancel() {\r\n                //   console.log('Cancel');\r\n            },\r\n        });\r\n\r\n    }\r\n    //删除\r\n    const deleteMethod = (item) => {\r\n        // console.log(item)\r\n        // 当前页面同步状态 + 后端同步\r\n\r\n        setdataSource(dataSource.filter(data=>data.id!==item.id))\r\n\r\n        axios.delete(`/users/${item.id}`)\r\n    }\r\n\r\n    const addFormOK = () => {\r\n        addForm.current.validateFields().then(value => {\r\n            // console.log(value)\r\n\r\n            setisAddVisible(false)\r\n\r\n            addForm.current.resetFields()\r\n            //post到后端，生成id，再设置 datasource, 方便后面的删除和更新\r\n            axios.post(`/users`, {\r\n                ...value,\r\n                \"roleState\": true,\r\n                \"default\": false,\r\n            }).then(res=>{\r\n                console.log(res.data)\r\n                setdataSource([...dataSource,{\r\n                    ...res.data,\r\n                    role:roleList.filter(item=>item.id===value.roleId)[0]\r\n                }])\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const updateFormOK = ()=>{\r\n        updateForm.current.validateFields().then(value => {\r\n            // console.log(value)\r\n            setisUpdateVisible(false)\r\n\r\n            setdataSource(dataSource.map(item=>{\r\n                if(item.id===current.id){\r\n                    return {\r\n                        ...item,\r\n                        ...value,\r\n                        role:roleList.filter(data=>data.id===value.roleId)[0]\r\n                    }\r\n                }\r\n                return item\r\n            }))\r\n            setisUpdateDisabled(!isUpdateDisabled)\r\n\r\n            axios.patch(`/users/${current.id}`,value)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Button type=\"primary\" onClick={() => {\r\n                setisAddVisible(true)\r\n            }}>添加用户</Button>\r\n            <Table dataSource={dataSource} columns={columns}\r\n                pagination={{\r\n                    pageSize: 5\r\n                }}\r\n                rowKey={item => item.id}\r\n            />\r\n\r\n            <Modal\r\n                visible={isAddVisible}\r\n                title=\"添加用户\"\r\n                okText=\"确定\"\r\n                cancelText=\"取消\"\r\n                onCancel={() => {\r\n                    setisAddVisible(false)\r\n                }}\r\n                onOk={() => addFormOK()}\r\n            >\r\n                <UserForm regionList={regionList} roleList={roleList} ref={addForm}></UserForm>\r\n            </Modal>\r\n\r\n            <Modal\r\n                visible={isUpdateVisible}\r\n                title=\"更新用户\"\r\n                okText=\"更新\"\r\n                cancelText=\"取消\"\r\n                onCancel={() => {\r\n                    setisUpdateVisible(false)\r\n                    setisUpdateDisabled(!isUpdateDisabled)\r\n                }}\r\n                onOk={() => updateFormOK()}\r\n            >\r\n                <UserForm regionList={regionList} roleList={roleList} ref={updateForm} isUpdateDisabled={isUpdateDisabled} isUpdate={true}></UserForm>\r\n            </Modal>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React,{useEffect, useState} from 'react'\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html'\r\nimport htmlToDraft from 'html-to-draftjs'\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\n\r\nexport default function NewsEditor(props) {\r\n    useEffect(()=>{\r\n        // console.log(props.content)\r\n        // html-===> draft, \r\n        const html = props.content\r\n        if(html===undefined) return \r\n        const contentBlock = htmlToDraft(html);\r\n        if (contentBlock) {\r\n          const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\r\n          const editorState = EditorState.createWithContent(contentState);\r\n          setEditorState(editorState)\r\n        }\r\n    },[props.content])\r\n\r\n    const [editorState, setEditorState] = useState(\"\")\r\n    return (\r\n        <div>\r\n            <Editor\r\n                editorState={editorState}\r\n                toolbarClassName=\"aaaaa\"\r\n                wrapperClassName=\"bbbbb\"\r\n                editorClassName=\"ccccc\"\r\n                onEditorStateChange={(editorState)=>setEditorState(editorState)}\r\n\r\n                onBlur={()=>{\r\n                    // console.log()\r\n\r\n                    props.getContent(draftToHtml(convertToRaw(editorState.getCurrentContent())))\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState, useRef } from 'react'\r\nimport { PageHeader, Steps, Button, Form, Input, Select, message,notification } from 'antd'\r\nimport style from './News.module.css'\r\nimport axios from 'axios'\r\nimport NewsEditor from '../../../components/news-manage/NewsEditor';\r\nconst { Step } = Steps;\r\nconst { Option } = Select;\r\n\r\nexport default function NewsAdd(props) {\r\n    const [current, setCurrent] = useState(0)\r\n    const [categoryList, setCategoryList] = useState([])\r\n\r\n    const [formInfo, setformInfo] = useState({})\r\n    const [content, setContent] = useState(\"\")\r\n\r\n    const User = JSON.parse(localStorage.getItem(\"token\"))\r\n    const handleNext = () => {\r\n        if (current === 0) {\r\n            NewsForm.current.validateFields().then(res => {\r\n                // console.log(res)\r\n                setformInfo(res)\r\n                setCurrent(current + 1)\r\n            }).catch(error => {\r\n                console.log(error)\r\n            })\r\n        } else {\r\n            // console.log(content)\r\n            if (content === \"\" || content.trim() === \"<p></p>\") {\r\n                message.error(\"新闻内容不能为空\")\r\n            } else {\r\n                setCurrent(current + 1)\r\n            }\r\n        }\r\n    }\r\n    const handlePrevious = () => {\r\n        setCurrent(current - 1)\r\n    }\r\n\r\n    const layout = {\r\n        labelCol: { span: 4 },\r\n        wrapperCol: { span: 20 },\r\n    }\r\n\r\n    const NewsForm = useRef(null)\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/categories\").then(res => {\r\n            // console.log(res.data)\r\n            setCategoryList(res.data)\r\n        })\r\n    }, [])\r\n\r\n\r\n    const handleSave = (auditState) => {\r\n\r\n        axios.post('/news', {\r\n            ...formInfo,\r\n            \"content\": content,\r\n            \"region\": User.region?User.region:\"全球\",\r\n            \"author\": User.username,\r\n            \"roleId\": User.roleId,\r\n            \"auditState\": auditState,\r\n            \"publishState\": 0,\r\n            \"createTime\": Date.now(),\r\n            \"star\": 0,\r\n            \"view\": 0,\r\n            // \"publishTime\": 0\r\n        }).then(res=>{\r\n            props.history.push(auditState===0?'/news-manage/draft':'/audit-manage/list')\r\n\r\n            notification.info({\r\n                message: `通知`,\r\n                description:\r\n                  `您可以到${auditState===0?'草稿箱':'审核列表'}中查看您的新闻`,\r\n                placement:\"bottomRight\"\r\n            });\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <PageHeader\r\n                className=\"site-page-header\"\r\n                title=\"撰写新闻\"\r\n                subTitle=\"This is a subtitle\"\r\n            />\r\n\r\n            <Steps current={current}>\r\n                <Step title=\"基本信息\" description=\"新闻标题，新闻分类\" />\r\n                <Step title=\"新闻内容\" description=\"新闻主体内容\" />\r\n                <Step title=\"新闻提交\" description=\"保存草稿或者提交审核\" />\r\n            </Steps>\r\n\r\n\r\n            <div style={{ marginTop: \"50px\" }}>\r\n                <div className={current === 0 ? '' : style.active}>\r\n\r\n                    <Form\r\n                        {...layout}\r\n                        name=\"basic\"\r\n                        ref={NewsForm}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"新闻标题\"\r\n                            name=\"title\"\r\n                            rules={[{ required: true, message: 'Please input your username!' }]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"新闻分类\"\r\n                            name=\"categoryId\"\r\n                            rules={[{ required: true, message: 'Please input your username!' }]}\r\n                        >\r\n                            <Select>\r\n                                {\r\n                                    categoryList.map(item =>\r\n                                        <Option value={item.id} key={item.id}>{item.title}</Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                    </Form>\r\n                </div>\r\n\r\n                <div className={current === 1 ? '' : style.active}>\r\n                    <NewsEditor getContent={(value) => {\r\n                        // console.log(value)\r\n                        setContent(value)\r\n                    }}></NewsEditor>\r\n                </div>\r\n                <div className={current === 2 ? '' : style.active}></div>\r\n\r\n            </div>\r\n            <div style={{ marginTop: \"50px\" }}>\r\n                {\r\n                    current === 2 && <span>\r\n                        <Button type=\"primary\" onClick={() => handleSave(0)}>保存草稿箱</Button>\r\n                        <Button danger onClick={() => handleSave(1)}>提交审核</Button>\r\n                    </span>\r\n                }\r\n                {\r\n                    current < 2 && <Button type=\"primary\" onClick={handleNext}>下一步</Button>\r\n                }\r\n                {\r\n                    current > 0 && <Button onClick={handlePrevious}>上一步</Button>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Table, Modal,notification} from 'antd'\r\nimport axios from 'axios'\r\nimport { DeleteOutlined, EditOutlined, ExclamationCircleOutlined,UploadOutlined } from '@ant-design/icons'\r\nconst { confirm } = Modal\r\nexport default function NewsDraft(props) {\r\n    const [dataSource, setdataSource] = useState([])\r\n\r\n    const {username}  = JSON.parse(localStorage.getItem(\"token\"))\r\n    useEffect(() => {\r\n        axios.get(`/news?author=${username}&auditState=0&_expand=category`).then(res => {\r\n            const list = res.data\r\n            setdataSource(list)\r\n        })\r\n    }, [username])\r\n\r\n    const columns = [\r\n        {\r\n            title: 'ID',\r\n            dataIndex: 'id',\r\n            render: (id) => {\r\n                return <b>{id}</b>\r\n            }\r\n        },\r\n        {\r\n            title: '新闻标题',\r\n            dataIndex: 'title',\r\n            render:(title,item)=>{\r\n                return <a href={`#/news-manage/preview/${item.id}`}>{title}</a>\r\n            }\r\n        },\r\n        {\r\n            title: '作者',\r\n            dataIndex: 'author'\r\n        },\r\n        {\r\n            title: '分类',\r\n            dataIndex: 'category',\r\n            render:(category)=>{\r\n                return category.title\r\n            }\r\n        },\r\n        {\r\n            title: \"操作\",\r\n            render: (item) => {\r\n                return <div>\r\n                    <Button danger shape=\"circle\" icon={<DeleteOutlined />} onClick={() => confirmMethod(item)} />\r\n                    \r\n                    <Button shape=\"circle\" icon={<EditOutlined />} onClick={()=>{\r\n                        props.history.push(`/news-manage/update/${item.id}`)\r\n                    }}/>\r\n\r\n                    <Button type=\"primary\" shape=\"circle\" icon={<UploadOutlined />} onClick={()=>handleCheck(item.id)}/>\r\n                </div>\r\n            }\r\n        }\r\n    ];\r\n\r\n\r\n    const handleCheck = (id)=>{\r\n        axios.patch(`/news/${id}`,{\r\n            auditState:1\r\n        }).then(res=>{\r\n            props.history.push('/audit-manage/list')\r\n\r\n            notification.info({\r\n                message: `通知`,\r\n                description:\r\n                  `您可以到${'审核列表'}中查看您的新闻`,\r\n                placement:\"bottomRight\"\r\n            });\r\n        })\r\n    }\r\n\r\n    const confirmMethod = (item) => {\r\n        confirm({\r\n            title: '你确定要删除?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            // content: 'Some descriptions',\r\n            onOk() {\r\n                //   console.log('OK');\r\n                deleteMethod(item)\r\n            },\r\n            onCancel() {\r\n                //   console.log('Cancel');\r\n            },\r\n        });\r\n\r\n    }\r\n    //删除\r\n    const deleteMethod = (item) => {\r\n        // console.log(item)\r\n        // 当前页面同步状态 + 后端同步\r\n      \r\n        setdataSource(dataSource.filter(data => data.id !== item.id))\r\n        axios.delete(`/news/${item.id}`)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Table dataSource={dataSource} columns={columns}\r\n                pagination={{\r\n                    pageSize: 5\r\n                }} \r\n                rowKey={item=>item.id}\r\n                />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect,useRef,useContext } from 'react'\r\nimport { Button, Table, Modal,Form,Input } from 'antd'\r\nimport axios from 'axios'\r\nimport { DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons'\r\nconst { confirm } = Modal\r\nexport default function NewsCategory() {\r\n    const [dataSource, setdataSource] = useState([])\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/categories\").then(res => {\r\n            setdataSource(res.data)\r\n        })\r\n    }, [])\r\n\r\n    const handleSave = (record)=>{\r\n        // console.log(record)\r\n\r\n        setdataSource(dataSource.map(item=>{\r\n            if(item.id===record.id){\r\n                return {\r\n                    id:item.id,\r\n                    title:record.title,\r\n                    value:record.title\r\n                }\r\n            }\r\n            return item\r\n        }))\r\n\r\n        axios.patch(`/categories/${record.id}`,{\r\n            title:record.title,\r\n            value:record.title\r\n        })\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: 'ID',\r\n            dataIndex: 'id',\r\n            render: (id) => {\r\n                return <b>{id}</b>\r\n            }\r\n        },\r\n        {\r\n            title: '栏目名称',\r\n            dataIndex: 'title',\r\n            onCell: (record) => ({\r\n                record,\r\n                editable: true,\r\n                dataIndex: 'title',\r\n                title: '栏目名称',\r\n                handleSave: handleSave,\r\n              }),\r\n      \r\n        },\r\n        {\r\n            title: \"操作\",\r\n            render: (item) => {\r\n                return <div>\r\n                    <Button danger shape=\"circle\" icon={<DeleteOutlined />} onClick={() => confirmMethod(item)} />\r\n                </div>\r\n            }\r\n        }\r\n    ];\r\n\r\n\r\n    const confirmMethod = (item) => {\r\n        confirm({\r\n            title: '你确定要删除?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            // content: 'Some descriptions',\r\n            onOk() {\r\n                //   console.log('OK');\r\n                deleteMethod(item)\r\n            },\r\n            onCancel() {\r\n                //   console.log('Cancel');\r\n            },\r\n        });\r\n\r\n    }\r\n    //删除\r\n    const deleteMethod = (item) => {\r\n        // console.log(item)\r\n        // 当前页面同步状态 + 后端同步\r\n        setdataSource(dataSource.filter(data => data.id !== item.id))\r\n        axios.delete(`/categories/${item.id}`)\r\n    }\r\n\r\n    const EditableContext = React.createContext(null);\r\n\r\n    const EditableRow = ({ index, ...props }) => {\r\n        const [form] = Form.useForm();\r\n        return (\r\n            <Form form={form} component={false}>\r\n                <EditableContext.Provider value={form}>\r\n                    <tr {...props} />\r\n                </EditableContext.Provider>\r\n            </Form>\r\n        );\r\n    };\r\n\r\n    const EditableCell = ({\r\n        title,\r\n        editable,\r\n        children,\r\n        dataIndex,\r\n        record,\r\n        handleSave,\r\n        ...restProps\r\n    }) => {\r\n        const [editing, setEditing] = useState(false);\r\n        const inputRef = useRef(null);\r\n        const form = useContext(EditableContext);\r\n        useEffect(() => {\r\n            if (editing) {\r\n                inputRef.current.focus();\r\n            }\r\n        }, [editing]);\r\n\r\n        const toggleEdit = () => {\r\n            setEditing(!editing);\r\n            form.setFieldsValue({\r\n                [dataIndex]: record[dataIndex],\r\n            });\r\n        };\r\n\r\n        const save = async () => {\r\n            try {\r\n                const values = await form.validateFields();\r\n                toggleEdit();\r\n                handleSave({ ...record, ...values });\r\n            } catch (errInfo) {\r\n                console.log('Save failed:', errInfo);\r\n            }\r\n        };\r\n\r\n        let childNode = children;\r\n\r\n        if (editable) {\r\n            childNode = editing ? (\r\n                <Form.Item\r\n                    style={{\r\n                        margin: 0,\r\n                    }}\r\n                    name={dataIndex}\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `${title} is required.`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input ref={inputRef} onPressEnter={save} onBlur={save} />\r\n                </Form.Item>\r\n            ) : (\r\n                    <div\r\n                        className=\"editable-cell-value-wrap\"\r\n                        style={{\r\n                            paddingRight: 24,\r\n                        }}\r\n                        onClick={toggleEdit}\r\n                    >\r\n                        {children}\r\n                    </div>\r\n                );\r\n        }\r\n\r\n        return <td {...restProps}>{childNode}</td>;\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Table dataSource={dataSource} columns={columns}\r\n                pagination={{\r\n                    pageSize: 5\r\n                }}\r\n                rowKey={item => item.id}\r\n\r\n                components={{\r\n                    body: {\r\n                        row: EditableRow,\r\n                        cell: EditableCell,\r\n                    }\r\n                }}\r\n\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Table} from 'antd'\r\n\r\nexport default function NewsPublish(props) {\r\n\r\n    const columns = [\r\n        {\r\n            title: '新闻标题',\r\n            dataIndex: 'title',\r\n            render: (title,item) => {\r\n                return <a href={`#/news-manage/preview/${item.id}`}>{title}</a>\r\n            }\r\n        },\r\n        {\r\n            title: '作者',\r\n            dataIndex: 'author'\r\n        },\r\n        {\r\n            title: \"新闻分类\",\r\n            dataIndex: 'category',\r\n            render: (category) => {\r\n                return <div>{category.title}</div>\r\n            }\r\n        },\r\n        {\r\n            title: \"操作\",\r\n            render: (item) => {\r\n                return <div>\r\n                    {props.button(item.id)}\r\n                </div>\r\n            }\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <Table dataSource={props.dataSource} columns={columns}\r\n                pagination={{\r\n                    pageSize: 5\r\n                }} \r\n                rowKey={item=>item.id}\r\n                />\r\n        </div>\r\n    )\r\n}\r\n","import {useEffect, useState} from 'react'\r\nimport axios from 'axios'\r\nimport {notification} from 'antd'\r\n\r\nfunction usePublish(type){\r\n    const {username} = JSON.parse(localStorage.getItem(\"token\"))\r\n\r\n    const [dataSource, setdataSource] = useState([])\r\n    useEffect(() => {\r\n\r\n        axios(`/news?author=${username}&publishState=${type}&_expand=category`).then(res=>{\r\n            // console.log(res.data)\r\n            setdataSource(res.data)\r\n        })\r\n    }, [username,type])\r\n\r\n\r\n\r\n    const handlePublish = (id)=>{\r\n        setdataSource(dataSource.filter(item=>item.id!==id))\r\n\r\n        axios.patch(`/news/${id}`, {\r\n            \"publishState\": 2,\r\n            \"publishTime\":Date.now()\r\n        }).then(res=>{\r\n            notification.info({\r\n                message: `通知`,\r\n                description:\r\n                  `您可以到【发布管理/已经发布】中查看您的新闻`,\r\n                placement:\"bottomRight\"\r\n            });\r\n        })\r\n    }\r\n\r\n    const handleSunset = (id)=>{\r\n        setdataSource(dataSource.filter(item=>item.id!==id))\r\n\r\n        axios.patch(`/news/${id}`, {\r\n            \"publishState\": 3,\r\n        }).then(res=>{\r\n            notification.info({\r\n                message: `通知`,\r\n                description:\r\n                  `您可以到【发布管理/已下线】中查看您的新闻`,\r\n                placement:\"bottomRight\"\r\n            });\r\n        })\r\n    }\r\n\r\n    const handleDelete = (id)=>{\r\n        setdataSource(dataSource.filter(item=>item.id!==id))\r\n\r\n        axios.delete(`/news/${id}`).then(res=>{\r\n            notification.info({\r\n                message: `通知`,\r\n                description:\r\n                  `您已经删除了已下线的新闻`,\r\n                placement:\"bottomRight\"\r\n            });\r\n        })\r\n\r\n    }\r\n\r\n    return {\r\n        dataSource,\r\n        handlePublish,\r\n        handleSunset,\r\n        handleDelete\r\n    }\r\n}\r\n\r\nexport default usePublish","import React, { useEffect, useState, useRef } from 'react'\r\nimport { PageHeader, Steps, Button, Form, Input, Select, message,notification } from 'antd'\r\nimport style from './News.module.css'\r\nimport axios from 'axios'\r\nimport NewsEditor from '../../../components/news-manage/NewsEditor';\r\nconst { Step } = Steps;\r\nconst { Option } = Select;\r\n\r\nexport default function NewsUpdate(props) {\r\n    const [current, setCurrent] = useState(0)\r\n    const [categoryList, setCategoryList] = useState([])\r\n\r\n    const [formInfo, setformInfo] = useState({})\r\n    const [content, setContent] = useState(\"\")\r\n\r\n    // const User = JSON.parse(localStorage.getItem(\"token\"))\r\n    const handleNext = () => {\r\n        if (current === 0) {\r\n            NewsForm.current.validateFields().then(res => {\r\n                // console.log(res)\r\n                setformInfo(res)\r\n                setCurrent(current + 1)\r\n            }).catch(error => {\r\n                console.log(error)\r\n            })\r\n        } else {\r\n            // console.log(content)\r\n            if (content === \"\" || content.trim() === \"<p></p>\") {\r\n                message.error(\"新闻内容不能为空\")\r\n            } else {\r\n                setCurrent(current + 1)\r\n            }\r\n        }\r\n    }\r\n    const handlePrevious = () => {\r\n        setCurrent(current - 1)\r\n    }\r\n\r\n    const layout = {\r\n        labelCol: { span: 4 },\r\n        wrapperCol: { span: 20 },\r\n    }\r\n\r\n    const NewsForm = useRef(null)\r\n\r\n    useEffect(() => {\r\n        axios.get(\"/categories\").then(res => {\r\n            // console.log(res.data)\r\n            setCategoryList(res.data)\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        // console.log()\r\n        axios.get(`/news/${props.match.params.id}?_expand=category&_expand=role`).then(res => {\r\n            // setnewsInfo(res.data)\r\n\r\n            // content , \r\n            // formInfo \r\n            let {title,categoryId,content} = res.data\r\n            NewsForm.current.setFieldsValue({\r\n                title,\r\n                categoryId\r\n            })\r\n\r\n            setContent(content)\r\n        })\r\n    }, [props.match.params.id])\r\n\r\n\r\n    const handleSave = (auditState) => {\r\n\r\n        axios.patch(`/news/${props.match.params.id}`, {\r\n            ...formInfo,\r\n            \"content\": content,\r\n            \"auditState\": auditState,\r\n        }).then(res=>{\r\n            props.history.push(auditState===0?'/news-manage/draft':'/audit-manage/list')\r\n\r\n            notification.info({\r\n                message: `通知`,\r\n                description:\r\n                  `您可以到${auditState===0?'草稿箱':'审核列表'}中查看您的新闻`,\r\n                placement:\"bottomRight\"\r\n            });\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <PageHeader\r\n                className=\"site-page-header\"\r\n                title=\"更新新闻\"\r\n                onBack={()=>props.history.goBack()}\r\n                subTitle=\"This is a subtitle\"\r\n            />\r\n\r\n            <Steps current={current}>\r\n                <Step title=\"基本信息\" description=\"新闻标题，新闻分类\" />\r\n                <Step title=\"新闻内容\" description=\"新闻主体内容\" />\r\n                <Step title=\"新闻提交\" description=\"保存草稿或者提交审核\" />\r\n            </Steps>\r\n\r\n\r\n            <div style={{ marginTop: \"50px\" }}>\r\n                <div className={current === 0 ? '' : style.active}>\r\n\r\n                    <Form\r\n                        {...layout}\r\n                        name=\"basic\"\r\n                        ref={NewsForm}\r\n                    >\r\n                        <Form.Item\r\n                            label=\"新闻标题\"\r\n                            name=\"title\"\r\n                            rules={[{ required: true, message: 'Please input your username!' }]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"新闻分类\"\r\n                            name=\"categoryId\"\r\n                            rules={[{ required: true, message: 'Please input your username!' }]}\r\n                        >\r\n                            <Select>\r\n                                {\r\n                                    categoryList.map(item =>\r\n                                        <Option value={item.id} key={item.id}>{item.title}</Option>\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n\r\n                    </Form>\r\n                </div>\r\n\r\n                <div className={current === 1 ? '' : style.active}>\r\n                    <NewsEditor getContent={(value) => {\r\n                        // console.log(value)\r\n                        setContent(value)\r\n                    }} content={content}></NewsEditor>\r\n                </div>\r\n                <div className={current === 2 ? '' : style.active}></div>\r\n\r\n            </div>\r\n            <div style={{ marginTop: \"50px\" }}>\r\n                {\r\n                    current === 2 && <span>\r\n                        <Button type=\"primary\" onClick={() => handleSave(0)}>保存草稿箱</Button>\r\n                        <Button danger onClick={() => handleSave(1)}>提交审核</Button>\r\n                    </span>\r\n                }\r\n                {\r\n                    current < 2 && <Button type=\"primary\" onClick={handleNext}>下一步</Button>\r\n                }\r\n                {\r\n                    current > 0 && <Button onClick={handlePrevious}>上一步</Button>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport Home from '../../views/sandbox/home/Home'\r\nimport Nopermission from '../../views/sandbox/nopermission/Nopermission'\r\nimport RightList from '../../views/sandbox/right-manage/RightList'\r\nimport RoleList from '../../views/sandbox/right-manage/RoleList'\r\nimport UserList from '../../views/sandbox/user-manage/UserList'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport NewsAdd from '../../views/sandbox/news-manage/NewsAdd'\r\nimport NewsDraft from '../../views/sandbox/news-manage/NewsDraft'\r\nimport NewsCategory from '../../views/sandbox/news-manage/NewsCategory'\r\nimport Audit from '../../views/sandbox/audit-manage/Audit'\r\nimport AuditList from '../../views/sandbox/audit-manage/AuditList'\r\nimport Unpublished from '../../views/sandbox/publish-manage/Unpublished'\r\nimport Published from '../../views/sandbox/publish-manage/Published'\r\nimport Sunset from '../../views/sandbox/publish-manage/Sunset'\r\nimport axios from 'axios'\r\nimport NewsPreview from '../../views/sandbox/news-manage/NewsPreview'\r\nimport NewsUpdate from '../../views/sandbox/news-manage/NewsUpdate'\r\nimport {Spin } from 'antd'\r\n\r\nimport {connect} from 'react-redux'\r\nconst LocalRouterMap = {\r\n    \"/home\": Home,\r\n    \"/user-manage/list\": UserList,\r\n    \"/right-manage/role/list\": RoleList,\r\n    \"/right-manage/right/list\": RightList,\r\n    \"/news-manage/add\": NewsAdd,\r\n    \"/news-manage/draft\": NewsDraft,\r\n    \"/news-manage/category\": NewsCategory,\r\n    \"/news-manage/preview/:id\": NewsPreview,\r\n    \"/news-manage/update/:id\": NewsUpdate,\r\n    \"/audit-manage/audit\": Audit,\r\n    \"/audit-manage/list\": AuditList,\r\n    \"/publish-manage/unpublished\": Unpublished,\r\n    \"/publish-manage/published\": Published,\r\n    \"/publish-manage/sunset\": Sunset\r\n}\r\n\r\nfunction NewsRouter(props) {\r\n\r\n    const [BackRouteList, setBackRouteList] = useState([])\r\n    useEffect(() => {\r\n        Promise.all([\r\n            axios.get(\"/rights\"),\r\n            axios.get(\"/children\"),\r\n        ]).then(res => {\r\n            // console.log(res)\r\n            setBackRouteList([...res[0].data, ...res[1].data])\r\n            // console.log(BackRouteList)\r\n        })\r\n    }, [])\r\n\r\n    const { role: { rights } } = JSON.parse(localStorage.getItem(\"token\"))\r\n\r\n    const checkRoute = (item) => {\r\n        return LocalRouterMap[item.key] && (item.pagepermisson || item.routepermisson)\r\n    }\r\n\r\n    const checkUserPermission = (item) => {\r\n        return rights.includes(item.key)\r\n    }\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={props.isLoading}>\r\n            <Switch>\r\n                {\r\n                    BackRouteList.map(item => {\r\n                        if (checkRoute(item) && checkUserPermission(item)) {\r\n                            return <Route path={item.key} key={item.key} component={LocalRouterMap[item.key]} exact />\r\n                        }\r\n                        return null\r\n                    }\r\n                    )\r\n                }\r\n\r\n                <Redirect from=\"/\" to=\"/home\" exact />\r\n                {\r\n                    BackRouteList.length > 0 && <Route path=\"*\" component={Nopermission} />\r\n                }\r\n            </Switch>\r\n        </Spin>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({LoadingReducer:{isLoading}})=>({\r\n    isLoading\r\n  })\r\n\r\nexport default connect(mapStateToProps)(NewsRouter)","import React, { useEffect, useState } from 'react'\r\nimport { PageHeader, Descriptions } from 'antd';\r\nimport moment from 'moment'\r\nimport axios from 'axios';\r\n\r\nexport default function NewsPreview(props) {\r\n    const [newsInfo, setnewsInfo] = useState(null)\r\n    useEffect(() => {\r\n        // console.log()\r\n        axios.get(`/news/${props.match.params.id}?_expand=category&_expand=role`).then(res => {\r\n            setnewsInfo(res.data)\r\n        })\r\n    }, [props.match.params.id])\r\n\r\n    const auditList = [\"未审核\", '审核中', '已通过', '未通过']\r\n    const publishList = [\"未发布\", '待发布', '已上线', '已下线']\r\n\r\n    const colorList = [\"black\",\"orange\",\"green\",\"red\"]\r\n    return (\r\n        <div>\r\n            {\r\n                newsInfo && <div>\r\n\r\n                    <PageHeader\r\n                        onBack={() => window.history.back()}\r\n                        title={newsInfo.title}\r\n                        subTitle={newsInfo.category.title}\r\n                    >\r\n                        <Descriptions size=\"small\" column={3}>\r\n                            <Descriptions.Item label=\"创建者\">{newsInfo.author}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"创建时间\">{moment(newsInfo.createTime).format(\"YYYY/MM/DD HH:mm:ss\")}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"发布时间\">{\r\n                                newsInfo.publishTime ? moment(newsInfo.publishTime).format(\"YYYY/MM/DD HH:mm:ss\") : \"-\"\r\n                            }</Descriptions.Item>\r\n                            <Descriptions.Item label=\"区域\">{newsInfo.region}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"审核状态\" ><span style={{ color: colorList[newsInfo.auditState] }}>{auditList[newsInfo.auditState]}</span></Descriptions.Item>\r\n                            <Descriptions.Item label=\"发布状态\" ><span style={{ color: colorList[newsInfo.publishState] }}>{publishList[newsInfo.publishState]}</span></Descriptions.Item>\r\n                            <Descriptions.Item label=\"访问数量\">{newsInfo.view}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"点赞数量\">{newsInfo.star}</Descriptions.Item>\r\n                            <Descriptions.Item label=\"评论数量\">0</Descriptions.Item>\r\n\r\n                        </Descriptions>\r\n                    </PageHeader>\r\n\r\n                    <div dangerouslySetInnerHTML={{\r\n                        __html:newsInfo.content\r\n                    }} style={{\r\n                        margin:\"0 24px\",\r\n                        border:\"1px solid gray\"\r\n                    }}>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {Table,Button,notification} from 'antd'\r\n\r\nexport default function Audit() {\r\n    const [dataSource, setdataSource] = useState([])\r\n    const {roleId,region,username}  = JSON.parse(localStorage.getItem(\"token\"))\r\n    useEffect(()=>{\r\n        const roleObj = {\r\n            \"6204b0c10dcb9809bcdb3e91\":\"superadmin\",\r\n            \"6204b0c10dcb9809bcdb3e92\":\"admin\",\r\n            \"6204b0c10dcb9809bcdb3e93\":\"editor\"\r\n        }\r\n        axios.get(`/news?auditState=1&_expand=category`).then(res => {\r\n            const list = res.data\r\n            setdataSource(roleObj[roleId]===\"superadmin\"?list:[\r\n                ...list.filter(item=>item.author===username),\r\n                ...list.filter(item=>item.region===region&& roleObj[item.roleId]===\"editor\")\r\n            ])\r\n        })\r\n    },[roleId,region,username])\r\n\r\n    const columns = [\r\n        {\r\n            title: '新闻标题',\r\n            dataIndex: 'title',\r\n            render: (title,item) => {\r\n                return <a href={`#/news-manage/preview/${item.id}`}>{title}</a>\r\n            }\r\n        },\r\n        {\r\n            title: '作者',\r\n            dataIndex: 'author'\r\n        },\r\n        {\r\n            title: \"新闻分类\",\r\n            dataIndex: 'category',\r\n            render: (category) => {\r\n                return <div>{category.title}</div>\r\n            }\r\n        },\r\n        {\r\n            title: \"操作\",\r\n            render: (item) => {\r\n                return <div>\r\n                   <Button type=\"primary\" onClick={()=>handleAudit(item,2,1)}>通过</Button>\r\n                   <Button danger onClick={()=>handleAudit(item,3,0)}>驳回</Button>\r\n                </div>\r\n            }\r\n        }\r\n    ];\r\n\r\n    const handleAudit = (item,auditState,publishState)=>{\r\n        setdataSource(dataSource.filter(data=>data.id!==item.id))\r\n\r\n        axios.patch(`/news/${item.id}`,{\r\n            auditState,\r\n            publishState\r\n        }).then(res=>{\r\n            notification.info({\r\n                message: `通知`,\r\n                description:\r\n                  `您可以到[审核管理/审核列表]中查看您的新闻的审核状态`,\r\n                placement:\"bottomRight\"\r\n            });\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n                <Table dataSource={dataSource} columns={columns}\r\n                pagination={{\r\n                    pageSize: 5\r\n                }} \r\n                \r\n                rowKey={item=>item.id}\r\n                />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport {Table,Button,Tag,notification} from 'antd'\r\nimport axios from 'axios'\r\nexport default function AuditList(props) {\r\n    const [dataSource, setdataSource] = useState([])\r\n    const {username} = JSON.parse(localStorage.getItem(\"token\"))\r\n    useEffect(()=>{\r\n        axios(`/news?author=${username}&auditState_ne=0&publishState_lte=1&_expand=category`).then(res=>{\r\n            // console.log(res.data)\r\n            setdataSource(res.data)\r\n        })\r\n    },[username])\r\n\r\n\r\n    const columns = [\r\n        {\r\n            title: '新闻标题',\r\n            dataIndex: 'title',\r\n            render: (title,item) => {\r\n                return <a href={`#/news-manage/preview/${item.id}`}>{title}</a>\r\n            }\r\n        },\r\n        {\r\n            title: '作者',\r\n            dataIndex: 'author'\r\n        },\r\n        {\r\n            title: \"新闻分类\",\r\n            dataIndex: 'category',\r\n            render: (category) => {\r\n                return <div>{category.title}</div>\r\n            }\r\n        },\r\n        {\r\n            title: \"审核状态\",\r\n            dataIndex: 'auditState',\r\n            render: (auditState) => {\r\n                const colorList = [\"\",'orange','green','red']\r\n                const auditList = [\"草稿箱\",\"审核中\",\"已通过\",\"未通过\"]\r\n                return <Tag color={colorList[auditState]}>{auditList[auditState]}</Tag>\r\n            }\r\n        },\r\n        {\r\n            title: \"操作\",\r\n            render: (item) => {\r\n                return <div>\r\n                    {\r\n                        item.auditState===1 &&  <Button onClick={()=>handleRervert(item)} >撤销</Button>\r\n                    }\r\n                    {\r\n                        item.auditState===2 &&  <Button  danger onClick={()=>handlePublish(item)}>发布</Button>\r\n                    }\r\n                    {\r\n                        item.auditState===3 &&  <Button type=\"primary\" onClick={()=>handleUpdate(item)}>更新</Button>\r\n                    }\r\n                </div>\r\n            }\r\n        }\r\n    ];\r\n\r\n    const handleRervert = (item)=>{\r\n        setdataSource(dataSource.filter(data=>data.id!==item.id))\r\n\r\n        axios.patch(`/news/${item.id}`,{\r\n            auditState:0\r\n        }).then(res=>{\r\n            notification.info({\r\n                message: `通知`,\r\n                description:\r\n                  `您可以到草稿箱中查看您的新闻`,\r\n                placement:\"bottomRight\"\r\n            });\r\n  \r\n        })\r\n    }\r\n\r\n    const handleUpdate = (item)=>{\r\n        props.history.push(`/news-manage/update/${item.id}`)\r\n    }\r\n\r\n    const handlePublish = (item)=>{\r\n        axios.patch(`/news/${item.id}`, {\r\n            \"publishState\": 2,\r\n            \"publishTime\":Date.now()\r\n        }).then(res=>{\r\n            props.history.push('/publish-manage/published')\r\n\r\n            notification.info({\r\n                message: `通知`,\r\n                description:\r\n                  `您可以到【发布管理/已经发布】中查看您的新闻`,\r\n                placement:\"bottomRight\"\r\n            });\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Table dataSource={dataSource} columns={columns}\r\n                pagination={{\r\n                    pageSize: 5\r\n                }} \r\n                \r\n                rowKey={item=>item.id}\r\n                />\r\n        </div>\r\n    )\r\n}\r\n","import NewsPublish from '../../../components/publish-manage/NewsPublish'\r\nimport usePublish from '../../../components/publish-manage/usePublish'\r\nimport {Button} from 'antd'\r\n\r\nexport default function Unpublished() {\r\n    // 1=== 待发布的\r\n    const {dataSource,handlePublish} = usePublish(1)\r\n\r\n    return (\r\n        <div>\r\n            <NewsPublish dataSource={dataSource} button={(id)=><Button type=\"primary\" onClick={()=>handlePublish(id)}>\r\n                发布\r\n            </Button>} ></NewsPublish>\r\n        </div>\r\n    )\r\n}\r\n","import NewsPublish from '../../../components/publish-manage/NewsPublish'\r\nimport usePublish from '../../../components/publish-manage/usePublish'\r\nimport {Button} from 'antd'\r\n\r\nexport default function Published() {\r\n    // 2=== 已发布的\r\n    const {dataSource,handleSunset} = usePublish(2)\r\n\r\n    return (\r\n        <div>\r\n            <NewsPublish dataSource={dataSource} button={(id)=><Button danger onClick={()=>handleSunset(id)}>\r\n                下线\r\n            </Button>}>\r\n\r\n            </NewsPublish>\r\n        </div>\r\n    )\r\n}\r\n","import NewsPublish from '../../../components/publish-manage/NewsPublish'\r\nimport usePublish from '../../../components/publish-manage/usePublish'\r\nimport {Button} from 'antd'\r\nexport default function Sunset() {\r\n    // 3=== 已下线的\r\n    const {dataSource,handleDelete} = usePublish(3)\r\n\r\n    return (\r\n        <div>\r\n            <NewsPublish dataSource={dataSource} button={(id)=><Button danger onClick={()=>handleDelete(id)}>\r\n                删除\r\n            </Button>}></NewsPublish>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport SideMenu from '../../components/sandbox/SideMenu'\r\nimport TopHeader from '../../components/sandbox/TopHeader'\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\n//css\r\nimport './NewsSandBox.css'\r\n\r\n//antd\r\nimport { Layout } from 'antd'\r\nimport NewsRouter from '../../components/sandbox/NewsRouter'\r\nconst {Content} = Layout\r\n\r\nexport default function NewsSandBox() {\r\n    NProgress.start()\r\n    useEffect(()=>{\r\n        NProgress.done()\r\n    })\r\n    return (\r\n        <Layout>\r\n            <SideMenu></SideMenu>\r\n            <Layout className=\"site-layout\">\r\n                <TopHeader></TopHeader>\r\n                <Content\r\n                    className=\"site-layout-background\"\r\n                    style={{\r\n                        margin: '24px 16px',\r\n                        padding: 24,\r\n                        minHeight: 280,\r\n                        overflow:\"auto\"\r\n                    }}\r\n                >\r\n                   <NewsRouter></NewsRouter>\r\n                </Content>\r\n            </Layout>\r\n        </Layout>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {HashRouter,Redirect,Route, Switch} from 'react-router-dom'\r\nimport Login from '../views/login/Login'\r\nimport Detail from '../views/news/Detail'\r\nimport News from '../views/news/News'\r\nimport NewsSandBox from '../views/sandbox/NewsSandBox'\r\nexport default function IndexRouter() {\r\n    return (\r\n        <HashRouter>\r\n            <Switch>\r\n                <Route path=\"/login\" component={Login}/>\r\n                <Route path=\"/news\" component={News}/>\r\n                <Route path=\"/detail/:id\" component={Detail}/>\r\n                {/* <Route path=\"/\" component={NewsSandBox}/> */}\r\n                <Route path=\"/\" render={()=>\r\n                    localStorage.getItem(\"token\")?\r\n                    <NewsSandBox ></NewsSandBox>:\r\n                    <Redirect to=\"/login\"/>\r\n                }/>\r\n            </Switch>\r\n        </HashRouter>\r\n    )\r\n}\r\n","import {createStore,combineReducers} from 'redux'\r\nimport {CollApsedReducer} from './reducers/CollapsedReducer'\r\nimport {LoadingReducer} from './reducers/LoadingReducer'\r\n\r\nimport { persistStore, persistReducer } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\r\n\r\n\r\nconst persistConfig = {\r\n    key: 'kerwin',\r\n    storage,\r\n    blacklist: ['LoadingReducer'] \r\n}\r\nconst reducer = combineReducers({\r\n    CollApsedReducer,\r\n    LoadingReducer\r\n})\r\nconst persistedReducer = persistReducer(persistConfig, reducer)\r\n  \r\n\r\nconst store = createStore(persistedReducer);\r\nconst persistor = persistStore(store)\r\nexport {\r\n    store,\r\n    persistor\r\n}\r\n\r\n/*\r\n store.dispatch()\r\n\r\n store.subsribe()\r\n\r\n*/","export const CollApsedReducer = (prevState={\r\n    isCollapsed:false\r\n},action)=>{\r\n        // console.log(action)\r\n    let {type} =action\r\n\r\n    switch(type){\r\n        case \"change_collapsed\":\r\n            let newstate = {...prevState}\r\n            newstate.isCollapsed = !newstate.isCollapsed\r\n            return newstate\r\n        default:\r\n            return prevState\r\n    }\r\n}","export const LoadingReducer = (prevState={\r\n    isLoading:false\r\n},action)=>{\r\n        // console.log(action)\r\n    let {type,payload} =action\r\n\r\n    switch(type){\r\n        case \"change_loading\":\r\n            let newstate = {...prevState}\r\n            newstate.isLoading = payload\r\n            return newstate\r\n        default:\r\n            return prevState\r\n    }\r\n}","import IndexRouter from './router/IndexRouter'\r\nimport { Provider } from 'react-redux'\r\nimport './App.css'\r\nimport { store,persistor } from './redux/store'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\n\r\nfunction App() {\r\n  return <Provider store={store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <IndexRouter></IndexRouter>\r\n    </PersistGate>\r\n  </Provider>\r\n}\r\nexport default App","import axios from 'axios'\r\nimport {store} from '../redux/store'\r\n// axios.defaults.baseURL=\"http://localhost:8080\"\r\n\r\n// axios.defaults.headers\r\n\r\n// axios.interceptors.request.use\r\n// axios.interceptors.response.use\r\n\r\naxios.interceptors.request.use(function (config) {\r\n    // Do something before request is sent\r\n    // 显示loading\r\n    store.dispatch({\r\n        type:\"change_loading\",\r\n        payload:true\r\n    })\r\n    return config;\r\n  }, function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n  });\r\n\r\n// Add a response interceptor\r\naxios.interceptors.response.use(function (response) {\r\n    // Any status code that lie within the range of 2xx cause this function to trigger\r\n    // Do something with response data\r\n\r\n    store.dispatch({\r\n        type:\"change_loading\",\r\n        payload:false\r\n    })\r\n\r\n    //隐藏loading\r\n    return response;\r\n  }, function (error) {\r\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n    // Do something with response error\r\n    store.dispatch({\r\n        type:\"change_loading\",\r\n        payload:false\r\n    })\r\n\r\n     //隐藏loading\r\n    return Promise.reject(error);\r\n  });\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n// import reportWebVitals from './reportWebVitals';\r\nimport './util/http'\r\n\r\nReactDOM.render(\r\n    <App />\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}